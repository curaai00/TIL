# Database Key

데이터베이스에는 키(key)라는 개념이 존재한다.
키는 다음과 같은 이유로 테이블과 데이터베이스를 설계하는 데 중요한 역할을 차지한다.

- 테이블 내 각 레코드를 식별한다.
- 무결성을 설정하고 강화하는 것을 도와준다.
- 테이블 간의 관계를 설정할 수 있다.

키에는 여러개의 종류가 있다.

## Candidate Key

후보 키(candidate key, CK), 테이블의 단일 인스턴스를 식별하게 해주는 하나의 필드 또는 필드 집합이다. 각 테이블은 필수적으로 하나의 후보 키를 가져야만 한다. 궁극적으로는 후보 키들의 pool을 검사하고 그 중 하나를 테이블의 공식적인 키로 지정한다. 지정된 후보 키는 각 테이블마다 CK라고 불린다.

후보 키가되기 위한 조건

- 다중 부분 필드일 수 없다.
- 유일한 값들을 포함해야 한다.
- 널 값을 포함할 수 없다.
- 데이터베이스의 보안을 깨뜨려서는 안된다.
- 필드 값이 전체 또는 부분적으로 선택적이여선 안된다.
  - 선택적인 값의 의미는 어떤 조건에서 널이 될수 있음을 암시한다.
- 후보 키의 값이 레코드들을 식별할 수 있어야 한다.
- 아주 드물고 극단적인 경우에만 수정할 수 있다.

두 개 이상의 필드로 구성되는 후보 키는 복합 후보 키(composite candidate key, CCK)로 표기하며, 각 후보키를 구별하기 위해 'CCK1', 'CCK2' 등 뒤에 숫자를 붙인다.

하지만 모든 테이블이 후보 키를 가지고 있는 것은 아니다. 하지만 테이블을 구성하는데 필수적으로 후보 키가 필요하기 때문에, 인위적인 후보 키를 만든다. 이때 인위적이라는 의미는 본래 테이블 내에서 후보 키가 **자연적**으로 발생하지 않아 설계자가 새 필드를 추가함에 따라 인위적인 후보 키를 설정한다.

## Primary Key

 적절해 보이는 후보 키를 설정한 후, 다음 작업은 기본 키(primary key)를 설정하는 것이다.

- 기본 키 필드는 데이터베이스 구조 전체에서 테이블을 식별하고, 다른 테이블과의 관계를 설정한다.
- 테이블 내 기본 키의 값은 데이터베이스/테이블에서 해당 레코드를 식별하도록 한다.

 기본 키를 설정할 때의 지침은 다음과 같다.

- 하나의 CK와 CCK를 가지고 있다면 하나의 CK를 선택한다. _최소한으로 레코드를 식별하는 후보 키를 사용하는 것이 좋다._
- 자신의 이름이 테이블의 이름을 포함하는 후보 키를 선택한다.
- 각 테이블은 하나의 기본 키를 가져아한다.
- 데이터베이스 내 기본 키는 유일해아 한다.

 물론 위 규칙들은 후보 키의 규칙을 당연히 포함하고 있다.

## Alternate Key

 후보 키 중에서 기본 키를 선택한 후, 나머지 후보 키들은 대체 키(alternate key, AK)/복합 대체 키(composite alternate key, CAK)로 지정한다. 테이블 내에서 레코드를 식별하는 기본 키의 대체 수단으로 사용될 여지가 있다.