# Table Relationships

 관계형 데이터베이스에서는 테이블 간의 관계를 정의하여, 정제된 데이터를 추출한다. 이때 **관계**는 어떠한 테이블과 다른 테이블 간의 레코드가 어떻게 연결이 되어있는지를 의미한다. 대부분 기본 키가 다른 테이블의 외래 키(foreign key, FK)로서 사용된다.

1. 테이블 구조를 정제하고, 중복 데이터를 최소화 한다.
2. 여러 테이블에서 동시에 데이터를 뽑을 수 있다.

## 관계의 유형

 테이블 간의 관계는 여러 유형이 있다.
  
- 1:1
  - 한 테이블의 레코드가 다른 테이블의 한 레코드와 연결이 되는 것을 의미한다.
- 1:many
  - 한 테이블의 레코드가 다른 테이블의 여러 레코드와 연결이 되는 것을 의미한다.
- many:many
  - 1:many의 관계가 서로 해당되는 경우다.
- recursive
  - 현재 테이블의 레코드가 또 다른 레코드에 사용되는 관계를 의미한다.

## 관계 특징 설정

 관계를 가지고 있는 테이블들은 규칙을 설정해야한다. 왜냐하면 부모 테이블의 변화가 자식 테이블에도 영향을 미치기 때문이다. 레코드를 삭제할 때 무엇이 발생하는지, 관계에 참여하는 정도를 어떻게 할 것인지.

- 거부(deny): 부모 테이블에 있는 레코드를 삭제할 수 없으며, 이 레코드를 유지하는 대신 **비활성화(inactivate)**로 지정한다.
- 제약(restrict): 부모 테이블에 있는 레코드를 삭제하기 위해서는 자식 테이블의 관련 레코드를 전부 삭제해야한다.
- 연속(cascade): 부모 테이블의 레코드를 삭제하면 자동으로 자식 테이블의 모든 레코드를 삭제한다.
- 널화(nullify): 부모 테이블의 레코드를 삭제하고 자식 테이블의 관련 레코드를 모두 null로 변경한다. 그대신 자식 테이블의 null 지원을 허용해아한다.
- 기본값 설정(set default): 부모 테이블에 있는 레코드를 삭제하고 자식 테이블에 있는 연관된 레코드의 외래 키 값을 외래 키의 필드 명세에 있는 기본값으로 갱신한다.

## 관계의 무결성

- 의미 있는 방법으로 각 테이블에 새로운 레코드를 넣을수 있다.
- 어떤 역효과 없이 현재 있는 레코드를 삭제할 수 없다.
- 서로 연결될 수 있는 레코드의 숫자를 제한한다.
